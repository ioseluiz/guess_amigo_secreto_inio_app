{% extends "game/base.html" %}

{% block content %}
<div class="form-card bg-gray-800 p-8 rounded-xl shadow-2xl border border-yellow-500/50">
    <h2 class="text-3xl font-extrabold text-yellow-400 mb-6 text-center">Define tu Amigo Secreto</h2>
    <p class="text-gray-400 mb-6 text-center">Selecciona a la persona a la que le regalarás. **¡Esta información será encriptada y secreta!**</p>
    
    <form method="post">
        {% csrf_token %}
        
        <div class="mb-6">
            <label for="id_target_user" class="block text-lg font-medium text-gray-300 mb-2">Persona a la que regalas:</label>
            <select name="target_user" id="id_target_user" class="mt-1 block w-full rounded-lg border-gray-600 bg-gray-700 text-white p-3 focus:border-yellow-500 focus:ring focus:ring-yellow-500/50" required>
                <option value="">--- Seleccionar Amigo Secreto ---</option>
                {% for user in users %}
                    {% if user != request.user %}
                        <option value="{{ user.id }}">{{ user.username }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="w-full bg-yellow-600 hover:bg-yellow-700 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">
            Guardar Secreto
        </button>
    </form>
</div>
{% endblock %}